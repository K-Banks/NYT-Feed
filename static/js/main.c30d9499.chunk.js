(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/nyt-logo.8662bc4e.png"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(3),s=a.n(i),o=(a(15),a(4)),r=a(5),c=a(8),u=a(6),d=a(1),p=a(7);a(16),a(17);var v=function(e){if(e.props){var t="";t=e.props.abstract.length>100?e.props.abstract.substring(0,100)+"...":e.props.abstract;var n=e.props.published_date.substring(0,10);return l.a.createElement("div",{className:"article-container"},l.a.createElement("div",{className:"image"},e.props.multimedia[0]?l.a.createElement("img",{src:e.props.multimedia[0].url,alt:"article"}):l.a.createElement("img",{src:a(18),alt:"article"})),l.a.createElement("div",{className:"text"},l.a.createElement("h3",null,l.a.createElement("a",{href:e.props.url},e.props.title)),l.a.createElement("h5",null,e.props.byline),l.a.createElement("p",null,t)),l.a.createElement("div",{className:"byline-date"},l.a.createElement("p",null,l.a.createElement("small",null,n))))}return null};a(19);var h=function(e){var t=e.props,a=[];return t.forEach(function(t){return a.push(l.a.createElement("li",{key:t.value,onClick:function(){!function(t){e.changeSelectedSection(t)}(t)}},t.title))}),e.state.queryStatus?l.a.createElement("div",{className:"toolbar-container"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("div",{className:"button",onClick:e.showDropdownMenu}," ",e.state.selectedSection.title," ")),l.a.createElement("div",{className:"button toggle"},"Loading...")):l.a.createElement("div",{className:"toolbar-container"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("div",{className:"button",onClick:e.showDropdownMenu}," ",e.state.selectedSection.title," "),e.state.displayMenu?l.a.createElement("ul",null,a):null),l.a.createElement("div",{className:"button toggle",onClick:e.toggle},e.state.liveFeed?"Click for Top Stories":"Click for Recent Stories"))},m={articles:[],selectedSection:{title:"Select Section",value:"all"},liveFeed:!0,queryStatus:!0,displayMenu:!1},g=[{title:"All",value:"all"},{title:"Arts",value:"arts"},{title:"Automobiles",value:"automobiles"},{title:"Books",value:"books"},{title:"Business",value:"business"},{title:"Food",value:"food"},{title:"Health",value:"health"},{title:"Magazine",value:"magazine"},{title:"Movies",value:"movies"},{title:"Obituaries",value:"obituaries"},{title:"Opinion",value:"opinion"},{title:"Science",value:"science"},{title:"Sports",value:"sports"},{title:"Technology",value:"technology"},{title:"Theater",value:"theater"},{title:"Travel",value:"travel"},{title:"World",value:"world"}],b=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));var n=Object.assign({},m);return a.state=n,a.getArticles=a.getArticles.bind(Object(d.a)(a)),a.handleResponseError=a.handleResponseError.bind(Object(d.a)(a)),a.showDropdownMenu=a.showDropdownMenu.bind(Object(d.a)(a)),a.hideDropdownMenu=a.hideDropdownMenu.bind(Object(d.a)(a)),a.changeSelectedSection=a.changeSelectedSection.bind(Object(d.a)(a)),a.buildURLRequest=a.buildURLRequest.bind(Object(d.a)(a)),a.toggleLiveOrTop=a.toggleLiveOrTop.bind(Object(d.a)(a)),a.getArticles(),a}return Object(p.a)(t,e),Object(r.a)(t,[{key:"getArticles",value:function(){var e=this,t=this.buildURLRequest();fetch(t).then(function(t){return 200===t.status?t.json():(e.handleResponseError(t),null)}).then(function(t){if(t){var a=t.results;e.setState({articles:a,queryStatus:!1})}})}},{key:"handleResponseError",value:function(e){console.log("There was an error: Response "+e.status)}},{key:"showDropdownMenu",value:function(e){var t=this;e.preventDefault(),this.setState({displayMenu:!0},function(){document.addEventListener("click",t.hideDropdownMenu)})}},{key:"hideDropdownMenu",value:function(){var e=this;this.setState({displayMenu:!1},function(){document.removeEventListener("click",e.hideDropdownMenu)})}},{key:"changeSelectedSection",value:function(e){var t=this;this.setState({selectedSection:e,queryStatus:!0},function(){t.getArticles()})}},{key:"buildURLRequest",value:function(){var e="";return e=this.state.liveFeed?"https://api.nytimes.com/svc/news/v3/content/all/"+this.state.selectedSection.value+".json?offset=0&api-key=":"all"===this.state.selectedSection.value?"https://api.nytimes.com/svc/topstories/v2/home.json?api-key=":"https://api.nytimes.com/svc/topstories/v2/"+this.state.selectedSection.value+".json?api-key=",e+="RclH5eQrZnXL5piGqWhAcHoVrHhaQGUk"}},{key:"toggleLiveOrTop",value:function(){var e=this;this.state.liveFeed?this.setState({liveFeed:!1,queryStatus:!0},function(){e.getArticles()}):this.setState({liveFeed:!0,queryStatus:!0},function(){e.getArticles()})}},{key:"render",value:function(){var e=this.state.articles;return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"header-wrapper"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null," NYT Feed:",this.state.liveFeed?" Recent Stories":" Top Stories"),l.a.createElement(h,{props:g,showDropdownMenu:this.showDropdownMenu,state:this.state,changeSelectedSection:this.changeSelectedSection,toggle:this.toggleLiveOrTop}))),this.state.queryStatus?l.a.createElement("div",{class:"loading"},l.a.createElement("div",{class:"spinner"},l.a.createElement("div",{class:"mask"},l.a.createElement("div",{class:"maskedCircle"})))):l.a.createElement("div",{className:"feed"},e.map(function(e){return l.a.createElement(v,{props:e,key:e.url})})))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.c30d9499.chunk.js.map